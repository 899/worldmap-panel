{"version":3,"sources":["../src/worldmap.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAqB,c;AACnB,0BAAY,IAAZ,EAAkB,YAAlB,EAAgC;AAAA;;AAC9B,eAAK,IAAL,GAAY,IAAZ;AACA,eAAK,YAAL,GAAoB,YAApB;AACA,eAAK,SAAL;AACD;;;;sCAEW;AACV,gBAAM,YAAY,OAAO,CAAP,CAAS,MAAT,CAAgB,KAAK,IAAL,CAAU,KAAV,CAAgB,iBAAhC,EAAmD,KAAK,IAAL,CAAU,KAAV,CAAgB,kBAAnE,CAAlB;AACA,iBAAK,GAAL,GAAW,OAAO,CAAP,CAAS,GAAT,CAAa,KAAK,YAAlB,EAAgC,EAAC,eAAe,IAAhB,EAAsB,QAAQ,SAA9B,EAAhC,EACR,QADQ,GAER,MAFQ,CAED,KAAK,IAAL,CAAU,KAAV,CAAgB,WAFf,CAAX;AAGA,iBAAK,GAAL,CAAS,KAAT,CAAe,SAAf;;AAEA,gBAAM,qBAAqB,KAAK,IAAL,CAAU,WAAV,CAAsB,KAAK,IAAL,CAAU,UAAhC,CAA3B;AACA,mBAAO,CAAP,CAAS,SAAT,CAAmB,mBAAmB,GAAtC,EAA2C;AACzC,uBAAS,EADgC;AAEzC,0BAAY,mBAAmB,UAFU;AAGzC,0BAAY,IAH6B;AAIzC,4BAAc,IAJ2B;AAKzC,2BAAa,mBAAmB;AALS,aAA3C,EAMG,KANH,CAMS,KAAK,GANd;AAOD;;;mCAEQ;AACP,iBAAK,GAAL,CAAS,cAAT;AACD;;;2CAEgB;AACf,iBAAK,GAAL,CAAS,KAAT,CAAe,CAAC,KAAK,IAAL,CAAU,KAAV,CAAgB,iBAAjB,EAAoC,KAAK,IAAL,CAAU,KAAV,CAAgB,kBAApD,CAAf;AACA,iBAAK,IAAL,CAAU,cAAV,GAA2B,KAA3B;AACD;;;oCAES,M,EAAQ;AAChB,mBAAO,KAAP,CAAa,KAAK,GAAlB;AACD;;;uCAEY,M,EAAQ;AACnB,mBAAO,UAAP,CAAkB,KAAK,GAAvB;AACD;;;qCAEU,O,EAAS;AAClB,mBAAO,OAAO,CAAP,CAAS,UAAT,CAAoB,OAApB,EAA6B,KAA7B,CAAmC,KAAK,GAAxC,CAAP;AACD;;;wCAEa,Y,EAAc;AAC1B,iBAAK,GAAL,CAAS,WAAT,CAAqB,YAArB;AACD;;;kCAEO,U,EAAY;AAClB,iBAAK,GAAL,CAAS,OAAT,CAAiB,UAAjB;AACD;;;mCAEQ;AACP,iBAAK,GAAL,CAAS,MAAT;AACD;;;;;;yBAvDkB,Q","file":"worldmap.js","sourcesContent":["export default class WorldMap {\n  constructor(ctrl, mapContainer) {\n    this.ctrl = ctrl;\n    this.mapContainer = mapContainer;\n    this.createMap();\n  }\n\n  createMap() {\n    const mapCenter = window.L.latLng(this.ctrl.panel.mapCenterLatitude, this.ctrl.panel.mapCenterLongitude);\n    this.map = window.L.map(this.mapContainer, {worldCopyJump: true, center: mapCenter})\n      .fitWorld()\n      .zoomIn(this.ctrl.panel.initialZoom);\n    this.map.panTo(mapCenter);\n\n    const selectedTileServer = this.ctrl.tileServers[this.ctrl.tileServer];\n    window.L.tileLayer(selectedTileServer.url, {\n      maxZoom: 18,\n      subdomains: selectedTileServer.subdomains,\n      reuseTiles: true,\n      detectRetina: true,\n      attribution: selectedTileServer.attribution\n    }).addTo(this.map);\n  }\n\n  resize() {\n    this.map.invalidateSize();\n  }\n\n  panToMapCenter() {\n    this.map.panTo([this.ctrl.panel.mapCenterLatitude, this.ctrl.panel.mapCenterLongitude]);\n    this.ctrl.mapCenterMoved = false;\n  }\n\n  addLegend(legend) {\n    legend.addTo(this.map);\n  }\n\n  removeLegend(legend) {\n    legend.removeFrom(this.map);\n  }\n\n  addCircles(circles) {\n    return window.L.layerGroup(circles).addTo(this.map);\n  }\n\n  removeCircles(circlesLayer) {\n    this.map.removeLayer(circlesLayer);\n  }\n\n  setZoom(zoomFactor) {\n    this.map.setZoom(zoomFactor);\n  }\n\n  remove() {\n    this.map.remove();\n  }\n}\n"]}